<?php
error_reporting(E_ALL);

function ouvrante($parser, $name, $attrs) {
  echo "<div style='color:green'>Ouverture de:<tt style='color:black'>";
  echo $name;
  foreach ($attrs as $key => $val) {
    echo "$cle='" . $val . "'";
  }
  echo "</tt></div><br/>\n";
}

function fermante($parser, $name) {
  echo "<div style='color:red'>Fermeture de:<br/>";
  echo "$name</div>\n";
}

function texte($parser, $data) {
  if (trim($data) == '') {
    echo "<div style='color:yellow'>Saut de ligne</div>";
  } else {
    echo "<div style='color:blue'>Reception de texte:<tt style='color:black'>$data</tt></div>";
    }
}

include 'entete.php';
echo entete('Analyse d\'un carnet d\'adresse');
echo "<body>";
$fichier = $_GET['fichier'];
$resultat = phraser($fichier, 'ouvrante', 'fermante', 'texte');
if ($resultat) {
  echo $resultat;
}
echo "</body></html>";
?>


